<div class="container my-4">
  <%= form_with url: admin_users_path, method: :get, local: true do |f| %>
    
    <%= f.text_field :search, placeholder: "ユーザー検索" %>
    <%= f.submit "検索", class: "btn btn-primary" %>
  <% end %>

  <h1 class="text-center">ユーザー一覧</h1>

  <div class="table-responsive">
    <table class="table">
      <thead>
        <tr>
          <th>ID</th>
          <th>アイコン</th>
          <th>名前</th>
          <th>メールアドレス</th>
          <th>登録日</th>
          <th>退会フラグ</th>
        </tr>
      </thead>
      <tbody>
        <% @users.each do |user| %>
          <tr>
            <td><%= user.id %></td>
            <td>
              <% if user.icon_image.attached? %>
                <%= link_to image_tag(user.icon_image, class: "rounded-circle", size: "40x40"), admin_user_path(user) %>
              <% end %>
            </td>
            <td><%= link_to user.name, admin_user_path(user) %></td>
            <td><%= user.email %></td>
            <td><%= user.created_at.strftime('%Y-%m-%d') %></td>
            <td><%= user.is_deleted? ? '退会済み' : '有効' %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
     <div style="width: 30%; margin: 0 auto;">
      <%= paginate @users %>
     </div>
  </div>
</div>

